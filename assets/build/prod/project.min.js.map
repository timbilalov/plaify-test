{"version":3,"sources":["svg-sprite.js","app.js","pageLoad.js","search.js","slider.js","tabs.js","windowResize.js","windowScroll.js"],"names":["document","getElementById","innerHTML","app","slice","Array","prototype","indexOf","elt","len","this","length","from","Number","arguments","Math","ceil","floor","window","createNS","namespace","i","nsparts","parent","part","split","isLocal","isDebug","utils","debouncer","func","timeout","timeoutID","undefined","args","scope","clearTimeout","setTimeout","apply","call","getTime","performance","now","precision","parseFloat","toFixed","Date","getInitTimes","k","module","obj","ref","total","modules","initialized","__mName__","__initTime__","all","round","loadScript","url","callback","error","script","createElement","fallbackUrl","errorOri","Raven","captureMessage","level","extra","fallback","cb","readyState","onreadystatechange","onerror","onload","src","getElementsByTagName","appendChild","loadStyle","first","head","link","href","rel","type","firstChild","insertBefore","features","transitionEventEnd","el","t","transitions","transition","OTransition","MozTransition","WebkitTransition","style","initializedModules","createModule","dep","dependencies","initFunc","j","mName","options","push","init","depModule","e","initTime","l","len1","t1","t2","error1","captureException","errorHandler","moduleName","pre","console","navigator","userAgent","appInitFunc","benchmarkCloseBtn","benchmarkDiv","initTimes","m","time","warningModules","location","hash","className","id","results","onclick","parentNode","removeChild","body","addEventListener","attachEvent","events","singleFunctionFired","singleLoadFunction","timeoutCurrent","shift","removeEventListener","addEvent","querySelector","genresFilter","nameFilter","currentFilterName","currentFilterGenre","allGenres","items","querySelectorAll","hiddenClass","emptyMessageElem","arrProto","forEach","elem","genre","value","setFilterName","name","changeInputVal","res","trim","updateCollection","setFilterGenre","shownItemsCount","elemName","textContent","elemGenres","getAttribute","testFilterName","RegExp","test","testFilterGenre","classList","remove","add","showEmptyMessage","hideEmptyMessage","text","btns","slides","curClass","currentSlideNum","slidesCount","showSlide","slideNum","direction","parseInt","isNaN","slideNumNext","slideNumPrev","cls","btnClick","dAttrTabNumber","contentElems","tabNumbersArray","activeClass","tabNumber","showTab","contentToShow","filter","activeBtn","resizeController","f","enabled","scrollController","y","scrollTop","documentElement"],"mappings":"AAAAA,SAAAC,eAAA,iBAAAC,UAAA,q8CCKA,WACA,IAAAC,EACAC,KAAAA,MAGAC,MAAAC,UAAAC,UACAF,MAAAC,UAAAC,QAAA,SAAAC,GACA,IAAAC,EAAAC,KAAAC,SAAA,EACAC,EAAAC,OAAAC,UAAA,KAAA,EAOA,KALAF,EAAAA,EAAA,EAAAG,KAAAC,KAAAJ,GAAAG,KAAAE,MAAAL,IACA,IACAA,GAAAH,GAGAG,EAAAH,EAAAG,IACA,GAAAA,KAAAF,MAAAA,KAAAE,KAAAJ,EACA,OAAAI,EAGA,OAAA,IAIAM,OAAAf,IAAAA,GACAgB,SAAA,SAAAC,GACA,IAAAC,EAAAZ,EAAAa,EAAAC,EAAAC,EAWA,IAVAF,EAAAF,EAAAK,MAAA,KACAF,EAAApB,EAIA,QAAAmB,EAAA,KACAA,EAAAA,EAAAlB,MAAA,IAIAiB,EAAA,EAAAZ,EAAAa,EAAAX,OAAAU,EAAAZ,EAAAY,SAKA,IAAAE,EAJAC,EAAAF,EAAAD,MAKAE,EAAAC,OAIAD,EAAAA,EAAAC,GAGA,OAAAD,GAGAG,UAAA1B,SAAAC,eAAA,mBACA0B,UAAA3B,SAAAC,eAAA,mBAEA2B,OACAC,UAAA,SAAAC,EAAAC,GACA,IAAAC,EAKA,OAJA,MAAAD,IACAA,EAAA,KAEAC,OAAAC,EACA,WACA,IAAAC,EAAAC,EACAA,EAAAzB,KACAwB,EAAApB,UACAsB,aAAAJ,GACAA,EAAAK,WAAA,WACAP,EAAAQ,MAAAH,EAAA9B,MAAAC,UAAAF,MAAAmC,KAAAL,KACAH,KAIAS,QAEAtB,OAAAuB,aAAA,mBAAAvB,OAAAuB,YAAAC,IACA,SAAAC,GAIA,OAHA,MAAAA,IACAA,EAAA,GAEAC,WAAA1B,OAAAuB,YAAAC,MAAAG,QAAAF,KAGA,SAAAA,GAIA,OAHA,MAAAA,IACAA,EAAA,GAEAC,YAAA,IAAAE,MAAAN,UAAAK,QAAAF,KAMAI,aAAA,WACA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAIA,IAAAJ,KAHAE,KACAE,EAAA,EACAD,EAAAhD,EAAAkD,SAEAJ,EAAAE,EAAAH,IACAM,kBAAArB,IAAAgB,EAAAM,YACAL,EAAAD,EAAAM,WAAAN,EAAAO,aACAJ,GAAAH,EAAAO,cAIA,OADAN,EAAAO,IAAA1C,KAAA2C,MAAAN,GACAF,IAIAS,WAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAC,EACAA,EAAA/D,SAAAgE,cAAA,UAGA,IAAA9B,EAAA7B,MAAAC,UAAAF,MAAAmC,KAAAzB,WACA,GAAA,iBAAA+C,EAAA,CACA,IAAAI,EAAAJ,EACAA,EAAAC,EACA,IAAAI,EAAAhC,EAAA,GACA4B,EAAA,WAEA3D,EAAAwD,WAAAM,EAAAJ,EAAAK,GAEA,oBAAAC,OACAA,MAAAC,eAAA,uCACAC,MAAA,UACAC,OACAP,OAAAH,EACAW,SAAAN,MAOA,IAAAO,EAAA,WAEA,mBAAAX,GACAA,KAKAE,EAAAU,WACAV,EAAAW,mBAAA,WACA,WAAAX,EAAAU,YAAA,aAAAV,EAAAU,aACAV,EAAAW,mBAAA,KACAF,OAMA,mBAAAV,IACAC,EAAAY,QAAAb,GAEAC,EAAAa,OAAAJ,GAGAT,EAAAc,IAAAjB,EACA5D,SAAA8E,qBAAA,QAAA,GAAAC,YAAAhB,IAIAiB,UAAA,SAAApB,GACA,IAAAqB,EAAAC,EAAAC,GACAA,EAAAnF,SAAAgE,cAAA,SACAoB,KAAAxB,EACAuB,EAAAE,IAAA,aACAF,EAAAG,KAAA,WAEAL,GADAC,EAAAlF,SAAA8E,qBAAA,QAAA,IACAS,WAGAL,EAAAM,aAAAL,EAAAF,IAGAQ,UAEAC,mBAAA,WACA,IAAAC,EAAAC,EAAAC,EAQA,IAAAD,KAPAD,EAAA3F,SAAAgE,cAAA,eACA6B,GACAC,WAAA,gBACAC,YAAA,iBACAC,cAAA,gBACAC,iBAAA,uBAGA,QAAAhE,IAAA0D,EAAAO,MAAAN,GAEA,OADAD,EAAA,KACAE,EAAAD,GAGA,OAAA,EAfA,IAmBAvC,WAEA8C,sBAEAC,aAAA,WACA,IAAAC,EAAAC,EAAAjF,EAAAkF,EAAAC,EAAA/F,EAAAgG,EAAAxD,EAAAyD,EAAAvD,EAEA,GADAsD,EAAA3F,UAAA,GAAA4F,EAAA,GAAA5F,UAAAH,OAAAP,EAAAmC,KAAAzB,UAAA,EAAAO,EAAAP,UAAAH,OAAA,IAAAU,EAAA,MACA,mBADAkF,EAAAzF,UAAAO,MAEA,KAAA,kDAAAoF,EAAA,IASA,IALAxD,EAAA9C,EAAAgB,SAAA,WAAAsF,IACAlD,UAAAkD,EACAxD,EAAAK,aAAA,EAGAoD,EAAA/F,QAAA+F,EAAA,GAAA/F,OAAA,CAGA,IAFA2F,KAEAE,EAAA,EAAA/F,GADA0C,EAAAuD,EAAA,IACA/F,OAAA6F,EAAA/F,EAAA+F,IAEA,iBADAH,EAAAlD,EAAAqD,KACAF,EAAA/F,QAAA8F,GAAA,GAAAA,IAAAI,GACAH,EAAAK,KAAAN,GAGAC,EAAA3F,SACAsC,EAAAqD,aAAAA,GAkDA,OA7CArD,EAAA2D,KAAA,WACA,IAAAC,EAAAC,EAAAC,EAAAZ,EAAAa,EAAAC,EAAAC,EAAAC,EACA,IACA,GAAAlE,EAAAqD,aACA,IAAAU,EAAA,EAAAC,EAAAX,EAAA3F,OAAAqG,EAAAC,EAAAD,IAAA,CAGA,GAFAX,EAAAC,EAAAU,KACAH,EAAA1G,EAAAkD,QAAAgD,IAGA,OAAA,EAEA,IAAAQ,EAAAvD,cAGAuD,EAAAD,QACAC,EAAAvD,aAEA,OAAA,EAIA4D,EAAA/G,EAAAyB,MAAAY,WACA,IAAA+D,EAAAhE,KAAAU,KACAA,EAAA2D,KAAA,WACA,KAAA,qBAAAH,EAAA,yBAEAU,EAAAhH,EAAAyB,MAAAY,UACAuE,EAAAnE,YAAAuE,EAAAD,GAAArE,QAAA,IACAI,EAAAO,aAAAuD,EAEA9D,EAAAK,aAAA,GACA6C,EAAAhG,EAAAgG,wBACAQ,KAAAF,GACAtG,EAAAgG,mBAAAA,GAEA,MAAAiB,GACAN,EAAAM,EACA,oBAAAjD,OACAA,MAAAkD,iBAAAP,GAEA3G,EAAAmH,aAAAR,GACAS,WAAAd,MAIAxD,GAGAqE,aAAA,SAAAxD,EAAA4C,GACA,IAAAc,EACAA,EAAA,UACAd,GAAAA,EAAAa,aACAC,GAAA,WAAAd,EAAAa,WAAA,KAEAE,SAAAA,QAAA3D,OACA2D,QAAA3D,MAAA0D,EAAA,KAAA1D,EAAA,gBAAA5C,OAAAwG,UAAAC,aAMA,IAAAC,EAAA,WACA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA/E,EAAAsE,EAAA3B,EAAAqC,EAAAC,EAMA,IAAAF,KAAA7H,EAAAkD,SACAJ,EAAA9C,EAAAkD,QAAA2E,IACA1E,aAAA,mBAAAL,EAAA2D,MACA3D,EAAA2D,OAqDA,GAlCAkB,EAAA9H,SAAAC,eAAA,aACA,mBAAAE,EAAAyB,MAAAmB,cAAA,eAAA7B,OAAAiH,SAAAC,MAAAN,KACAA,EAAA9H,SAAAgE,cAAA,QACAqE,UAAA,YACAP,EAAAQ,GAAA,YACA,mBAAAnI,EAAAyB,MAAAmB,eACA+E,EAAA5H,UAAA,4CAAA,WACA,IAAAiD,EAAAoF,EAGA,IAAAP,KADAO,KADApF,EAAAhD,EAAAyB,MAAAmB,eAGA6C,EAAAzC,EAAA6E,GACAO,EAAA5B,KAAA,IAAAqB,EAAA,KAAApC,GAEA,OAAA2C,EARA,GASA,aAIAV,EAAA7H,SAAAgE,cAAA,MACAwE,QAAA,WACAV,EAAAW,WAAAC,YAAAZ,IAEAD,EAAA3H,UAAA,IACA2H,EAAAQ,UAAA,mBACAP,EAAA/C,YAAA8C,GACA7H,SAAA2I,KAAA5D,YAAA+C,IAQA,oBAAA3D,MAAA,CAIA,IAAAoD,KAFAW,KACA,GAFAH,EAAA5H,EAAAyB,MAAAmB,eAIAkF,EAAAF,EAAAR,GACA,QAAAA,GAGAU,EANA,IAOAC,EAAAvB,KAAAY,GAOAW,EAAAvH,OAAA,GACAwD,MAAAC,eAAA,4DACAC,MAAA,UACAC,MAAAyD,MAOA,qBAAA/H,SACAA,SAAA4I,iBAAA,mBAAAhB,GAAA,GAGA,gBAAA5H,UACAA,SAAA6I,YAAA,qBAAA,WACA,aAAA7I,SAAAyE,YACAmD,MAtYA,GCGAzH,IAAAiG,aAAA,WAAA,WAGA,IACA0C,KACAC,GAAA,EASAC,EAAA,WACA,IACAlH,EAAAmH,EACA,GAAA,aAFAjJ,SAAAyE,YAEAsE,IAAAD,EAAAnI,OACA,OAAA,EAKA,KAAAmI,EAAAnI,OAAA,GAGAmB,EAAAgH,EAAAI,QAMAD,EAAAA,EAAAA,EAzBA,GADA,IA2BA5G,WAAAP,EAAAmH,GAGAF,GAAA,EACA7H,OAAAiI,oBAAA,OAAAH,GACA9H,OAAAiI,oBAAA,QAAAH,IAKA,aAAAhJ,SAAAyE,WACAuE,KAEA9H,OAAA0H,iBAAA,OAAAI,GACA9H,OAAA0H,iBAAA,QAAAI,IA5CAtI,KA0EA0I,SApBA,SAAAtH,GACA,mBAAAA,IAKAiH,EAOAjH,IANAgH,EAAAnC,KAAA7E,OCxEA3B,IAAAiG,aAAA,SAAA,WACA,IAAA7E,EAAAvB,SAAAqJ,cAAA,cACA,IAAA9H,EACA,OAAA,EAIA,IACA+H,EAAA/H,EAAA8H,cAAA,oBACAE,EAAAhI,EAAA8H,cAAA,mBACAG,EAAA,KACAC,EAAA,KACAC,KACAC,EAAApI,EAAAqI,iBAAA,YAGAC,GAFAF,EAAAhJ,OAEA,YACAmJ,EAAAvI,EAAA8H,cAAA,qBACAU,EAAA1J,MAAAC,UAIAyJ,EAAAC,QAAAzH,KAAA+G,EAAAM,iBAAA,UAAA,SAAAK,GACA,IAAAC,EAAAD,EAAAE,MACA,KAAAD,GAAA,SAAAA,GACAR,EAAA/C,KAAAuD,KAUA,IAAAE,EAAA,SAAAC,EAAAC,GAEA,IAAAC,EADAD,EAAAA,IAAA,EAKAC,EADA,iBAAAF,GAAA,iBAAAA,GAAA,KAAAA,EAAAG,OACA,KAGAH,EAGAb,EAAAe,EAKAD,IACAf,EAAAY,MAAAI,GAIAE,KAGAC,EAAA,SAAAR,EAAAI,GAEA,IAAAC,EADAD,EAAAA,IAAA,EAMAJ,IAAA,iBAAAA,GAAA,SAAAA,EAAAM,QAAA,KAAAN,EAAAM,SAAAd,EAAAnJ,QAAA2J,GAAA,IAMAK,EADA,iBAAAL,GAAA,iBAAAA,IAAA,SAAAA,EAAAM,QAAA,KAAAN,EAAAM,QACA,KAEAN,EAGAT,EAAAc,EAKAD,IACAhB,EAAAa,MAAAI,GAIAE,MAGAA,EAAA,WACA,IAAAE,EAAA,EAGAZ,EAAAC,QAAAzH,KAAAoH,EAAA,SAAAM,GACA,IAAAW,EAAAX,EAAAZ,cAAA,YAAAwB,YACAC,EAAAb,EAAAc,aAlFA,cAkFAtJ,MAAA,KAIAuJ,GAAA,EACA,OAAAxB,GAAA,iBAAAA,IACAwB,EAAA,IAAAC,OAAAzB,EAAA,MAAA0B,KAAAN,IAKA,IAAAO,GAAA,EACA,OAAA1B,GAAA,iBAAAA,IACA0B,EAAAL,EAAAvK,QAAAkJ,IAAA,GAKAuB,GAAAG,GACAlB,EAAAmB,UAAAC,OAAAxB,GACAc,KAEAV,EAAAmB,UAAAE,IAAAzB,KAMA,IAAAc,EACAY,IAEAC,KAMAD,EAAA,WACAzB,EAAAsB,UAAAC,OAAAxB,IAGA2B,EAAA,WACA1B,EAAAsB,UAAAE,IAAAzB,IAeAN,EAAAX,iBAAA,QAAAzI,IAAAyB,MAAAC,UAZA,WACA,IAAA4J,EAAA/K,KAAAyJ,MACAC,EAAAqB,GAAA,IAUA,MACAnC,EAAAV,iBAAA,SARA,WACA,IAAAsB,EAAAxJ,KAAAyJ,MACAO,EAAAR,GAAA,KA9IAxJ,KAwJA0J,cAAAA,EAxJA1J,KAyJAgK,eAAAA,IChKAvK,IAAAiG,aAAA,SAAA,WACA,IAAA7E,EAAAvB,SAAAqJ,cAAA,cACA,IAAA9H,EACA,OAAA,EAIA,IAEAmK,EAAAnK,EAAAqI,iBAAA,WACA+B,EAAApK,EAAAqI,iBAAA,aACAgC,EAAA,aAGAC,EAAA,EACAC,EAAAH,EAAAhL,OACAoJ,EAAA1J,MAAAC,UAKAyL,EAAA,SAAAC,EAAAC,GAIA,GAAA,SAAAD,GAAA,SAAAA,GAAA,IAAAlL,UAAAH,OAEA,UADAsL,EAAAD,IAEAA,EAAAH,EAAA,IACAC,IACAE,EAAA,GAEA,SAAAC,IACAD,EAAAH,EAAA,GACA,IACAG,EAAAF,EAAA,QAMA,GADAE,EAAAE,SAAAF,GACAG,MAAAH,IAAAA,GAAAF,GAAAE,EAAA,GAAAA,IAAAH,EACA,OAKA,IAAAO,EAAAJ,EAAA,EACAI,GAAAN,IACAM,EAAA,GAIA,IAAAC,EAAAL,EAAA,EACAK,EAAA,IACAA,EAAAP,EAAA,GAQAD,EAAAG,EAKA,IAAAM,EAAA,UATAL,EAAAA,GAAA,QA/CA,UACA,UAwDAN,EAAAK,GAAAZ,UAAAE,IAAAgB,GAkBAjK,WAZA,WACA0H,EAAAC,QAAAzH,KAAAoJ,EAAA,SAAA1B,GACAA,EAAAmB,UAAAC,OAAAO,KAEAD,EAAAK,GAAAZ,UAAAC,OAAAiB,GACAX,EAAAK,GAAAZ,UAAAE,IAAAM,IAMA,MAIAW,EAAA,WACA,IAAAN,EAAAvL,KAAAqK,aAnFA,cAoFAgB,EAAAE,IAKAlC,EAAAC,QAAAzH,KAAAmJ,EAAA,SAAAzB,GACAA,EAAArB,iBAAA,QAAA2D,KAKAZ,EAAAE,GAAAT,UAAAE,IAAAM,GAhGAlL,KAmGAqL,UAAAA,IC1GA5L,IAAAiG,aAAA,OAAA,WACA,IAAA7E,EAAAvB,SAAAqJ,cAAA,YACA,IAAA9H,EACA,OAAA,EAIA,IACAiL,EAAA,WACAd,EAAAnK,EAAAqI,iBAAA,WACA6C,EAAAlL,EAAAqI,iBAAA,eACAC,EAAA,WACA6C,KACAC,EAAA,YAEA5C,EAAA1J,MAAAC,UAGA,GAAAmM,EAAA9L,SAAA+K,EAAA/K,OAEA,OAAA,EAGAoJ,EAAAC,QAAAzH,KAAAmJ,EAAA,SAAAzB,GACAyC,EAAA/F,KAAAuF,SAAAjC,EAAAc,aAAAyB,OAIA,IAAAxJ,EAAA,EAQA,GAPA+G,EAAAC,QAAAzH,KAAAkK,EAAA,SAAAxC,GACA,IAAA2C,EAAAV,SAAAjC,EAAAc,aAAAyB,IACAE,EAAAnM,QAAAqM,GAAA,GACA5J,MAIAA,EAAA,EAEA,OAAA,EAMA,IAUA6J,EAAA,SAAAD,GAEA,GADAA,EAAAV,SAAAU,KACAT,MAAAS,IAAAF,EAAAnM,QAAAqM,GAAA,GAAA,CAIA,IAAAE,EAAA/C,EAAAgD,OAAAxK,KAAAkK,EAAA,SAAAxC,GACA,OAAAiC,SAAAjC,EAAAc,aAAAyB,MAAAI,IACA,GAEAI,EAAAjD,EAAAgD,OAAAxK,KAAAmJ,EAAA,SAAAzB,GACA,OAAAiC,SAAAjC,EAAAc,aAAAyB,MAAAI,IACA,GArBA7C,EAAAC,QAAAzH,KAAAkK,EAAA,SAAAxC,GACAA,EAAAmB,UAAAE,IAAAzB,KAGAE,EAAAC,QAAAzH,KAAAmJ,EAAA,SAAAzB,GACAA,EAAAmB,UAAAC,OAAAsB,KAoBAG,EAAA1B,UAAAC,OAAAxB,GACAmD,EAAA5B,UAAAE,IAAAqB,KAGAJ,EAAA,WACA,IAAAK,EAAAlM,KAAAqK,aAAAyB,GACAK,EAAAD,IAKA7C,EAAAC,QAAAzH,KAAAmJ,EAAA,SAAAzB,GACAA,EAAArB,iBAAA,QAAA2D,KAMAhL,EAAA6J,UAAAC,OA1EA,gBA2EAwB,EAAAH,EAAA,IAlFAhM,KAsFAmM,QAAAA,ICpFA1M,IAAAiG,aAAA,eAAA,WAGA,IACA0C,KAWAmE,EAAA9M,IAAAyB,MAAAC,UAAA,WAKA,IAAAR,EAAAZ,EAJA,GAAAqI,EAAAnI,OAKA,IAAAU,EAAA,EAAAZ,EAAAqI,EAAAnI,OAAAU,EAAAZ,EAAAY,KACA6L,EAAApE,EAAAzH,QAuBAH,OAAA0H,iBAAA,SAAAqE,GA1CAvM,KA+CA0I,SAhBA,SAAAtH,GACA,mBAAAA,GAIAgH,EAAAnC,KAAA7E,MCzCA3B,IAAAiG,aAAA,eAAA,WAGA,IACA0C,KACAqE,GAAA,EAQAC,EAAA,WACA,GAAAD,EAAA,CAIA,IACA9L,EAAAZ,EADA4M,EAAArN,SAAA2I,KAAA2E,WAAAtN,SAAAuN,gBAAAD,UAEA,IAAAjM,EAAA,EAAAZ,EAAAqI,EAAAnI,OAAAU,EAAAZ,EAAAY,IACAyH,EAAAzH,GACAkB,KAAA7B,KAAA2M,KAnBA3M,KA0DA0I,SAjBA,SAAAtH,GACA,mBAAAA,IAIAqL,IACAA,GAAA,EAhBAjM,OAAA0H,iBAAA,SAAAwE,IAoBAtE,EAAAnC,KAAA7E","file":"project.min.js","sourcesContent":["document.getElementById('svg-container').innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\"><symbol id=\"svg-arr-down\" viewBox=\"0 0 200 200\"><path d=\"M200 71.9L100 172.1 0 71.9\"/></symbol><symbol id=\"svg-arr-right\" viewBox=\"0 0 200 200\"><path d=\"M99.9 0L200 100 99.9 200M0 100h200\"/></symbol><symbol id=\"svg-menu\" viewBox=\"0 0 200 200\"><path class=\"burger__line burger__line--1\" d=\"M0 100h200\"/><path class=\"burger__line burger__line--2\" d=\"M0 100h200\"/><path class=\"burger__line burger__line--3\" d=\"M0 100h200\"/></symbol><symbol id=\"svg-plus\" viewBox=\"0 0 200 200\"><path d=\"M100 0v200M200 100H0\"/></symbol><symbol id=\"svg-temp-eye\" viewBox=\"0 0 448 448\"><path d=\"M224 105.2c-81.9 0-145.7 48.8-224 128 67.4 67.7 124 128 224 128 99.9 0 173.4-76.39 224-126.6-51.8-58.8-125.2-129.4-224-129.4zm0 36.69c49.4 0 89.59 41.01 89.59 91.31 0 50.4-40.19 91.31-89.59 91.31s-89.59-41.01-89.59-91.31c0-50.4 40.19-91.31 89.59-91.31zm0 38c-28.8 0-52.31 23.91-52.31 53.31s23.51 53.31 52.31 53.31 52.31-23.91 52.31-53.31c0-2.3-.206-4.606-.406-6.906-5.5 4.3-12.31 6.906-19.81 6.906-17.8 0-32.09-14.3-32.09-32 0-7.9 2.894-15.09 7.594-20.69-2.5-.4-4.994-.625-7.594-.625z\"/></symbol><symbol id=\"svg-temp-html5\" viewBox=\"0 0 32 32\"><path fill=\"#E44D26\" d=\"M27.377 28.889L16.001 32 4.625 28.889 2 0h28.002z\"/><path fill=\"#FF6C39\" d=\"M16 2v27.75l9.232-2.742L27.688 2z\"/><path fill=\"#FFF\" d=\"M24.363 6H7.607L8 10l.619 7h10.884l-.355 3.984L16 21.99l-3.143-1.006L12.648 19H8.803l.459 4.987L16 25.99l6.728-2.004.99-10.986H12.252l-.25-3H24z\"/></symbol></svg>';","/* globals Raven */\n/* eslint moduleName:0 */\n\n\"use strict\";\n\n(function() {\n    var app;\n    var slice = [].slice;\n\n    // Hack for IE <= 8\n    if (!Array.prototype.indexOf) {\n        Array.prototype.indexOf = function(elt) {\n            var len = this.length >>> 0;\n            var from = Number(arguments[1]) || 0;\n\n            from = (from < 0) ? Math.ceil(from) : Math.floor(from);\n            if (from < 0) {\n                from += len;\n            }\n\n            for (; from < len; from++) {\n                if (from in this && this[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n    }\n\n    window.app = app = {\n        createNS: function(namespace) {\n            var i, len, nsparts, parent, part;\n            nsparts = namespace.split(\".\");\n            parent = app;\n\n            // we want to be able to include or exclude the root namespace so we strip\n            // it if it's in the namespace\n            if (nsparts[0] === \"app\") {\n                nsparts = nsparts.slice(1);\n            }\n\n            // loop through the parts and create a nested namespace if necessary\n            for (i = 0, len = nsparts.length; i < len; i++) {\n                part = nsparts[i];\n\n                // check if the current parent already has the namespace declared\n                // if it isn't, then create it\n                if (typeof parent[part] === \"undefined\") {\n                    parent[part] = {};\n                }\n\n                // get a reference to the deepest element in the hierarchy so far\n                parent = parent[part];\n            }\n\n            return parent;\n        },\n\n        isLocal: !!document.getElementById(\"js-server-local\"),\n        isDebug: !!document.getElementById(\"js-server-debug\"),\n\n        utils: {\n            debouncer: function(func, timeout) {\n                var timeoutID;\n                if (timeout == null) {\n                    timeout = 200;\n                }\n                timeoutID = undefined;\n                return function() {\n                    var args, scope;\n                    scope = this;\n                    args = arguments;\n                    clearTimeout(timeoutID);\n                    timeoutID = setTimeout(function() {\n                        func.apply(scope, Array.prototype.slice.call(args));\n                    }, timeout);\n                };\n            },\n\n            getTime: (function() {\n                var res;\n                if (window.performance && typeof window.performance.now === \"function\") {\n                    res = function(precision) {\n                        if (precision == null) {\n                            precision = 1;\n                        }\n                        return parseFloat(window.performance.now().toFixed(precision));\n                    };\n                } else {\n                    res = function(precision) {\n                        if (precision == null) {\n                            precision = 1;\n                        }\n                        return parseFloat(new Date().getTime().toFixed(precision));\n                    };\n                }\n                return res;\n            })(),\n\n            getInitTimes: function() {\n                var k, module, obj, ref, total;\n                obj = {};\n                total = 0;\n                ref = app.modules;\n                for (k in ref) {\n                    module = ref[k];\n                    if (module.initialized && module.__mName__ !== undefined) {\n                        obj[module.__mName__] = module.__initTime__;\n                        total += module.__initTime__;\n                    }\n                }\n                obj.all = Math.round(total);\n                return obj;\n            }\n        },\n\n        loadScript: function(url, callback, error) {\n            var script;\n            script = document.createElement(\"script\");\n\n            // If \"fallback\" url passed as second argument\n            var args = Array.prototype.slice.call(arguments);\n            if (typeof callback === \"string\") {\n                var fallbackUrl = callback;\n                callback = error;\n                var errorOri = args[3];\n                error = function() {\n                    DEBUG && console.log(\"%c[common] error while loading script: \" + url + \". trying to load a fallback url: \" + fallbackUrl, \"color: red\");\n                    app.loadScript(fallbackUrl, callback, errorOri);\n\n                    if (!DEBUG && typeof Raven !== \"undefined\") {\n                        Raven.captureMessage(\"[common] error while loading script\", {\n                            level: \"warning\", // one of 'info', 'warning', or 'error'\n                            extra: {\n                                \"script\": url,\n                                \"fallback\": fallbackUrl\n                            }\n                        });\n                    }\n                };\n            }\n\n            var cb = function() {\n                DEBUG && console.log(\"%c--[common] finished loading script: \" + url, \"color: #999\");\n                if (typeof callback === \"function\") {\n                    callback();\n                }\n            };\n\n            // IE\n            if (script.readyState) {\n                script.onreadystatechange = function() {\n                    if (script.readyState === \"loaded\" || script.readyState === \"complete\") {\n                        script.onreadystatechange = null;\n                        cb();\n                    }\n                };\n\n            // Normal browsers\n            } else {\n                if (typeof error === \"function\") {\n                    script.onerror = error;\n                }\n                script.onload = cb;\n            }\n\n            script.src = url;\n            document.getElementsByTagName(\"body\")[0].appendChild(script);\n            DEBUG && console.log(\"%c--[common] starting to load script: \" + url, \"color: #999\");\n        },\n\n        loadStyle: function(url) {\n            var first, head, link;\n            link = document.createElement(\"link\");\n            link.href = url;\n            link.rel = \"stylesheet\";\n            link.type = \"text/css\";\n            head = document.getElementsByTagName(\"head\")[0];\n            first = head.firstChild;\n\n            // Prepend styles in 'head' section\n            head.insertBefore(link, first);\n        },\n\n        features: {\n            // From Modernizr\n            transitionEventEnd: (function() {\n                var el, t, transitions;\n                el = document.createElement(\"fakeelement\");\n                transitions = {\n                    \"transition\": \"transitionend\",\n                    \"OTransition\": \"oTransitionEnd\",\n                    \"MozTransition\": \"transitionend\",\n                    \"WebkitTransition\": \"webkitTransitionEnd\"\n                };\n                for (t in transitions) {\n                    if (el.style[t] !== undefined) {\n                        el = null;\n                        return transitions[t];\n                    }\n                }\n                return false;\n            })()\n        },\n\n        modules: {},\n\n        initializedModules: [],\n\n        createModule: function() {\n            var dep, dependencies, i, initFunc, j, len, mName, module, options, ref;\n            mName = arguments[0], options = 3 <= arguments.length ? slice.call(arguments, 1, i = arguments.length - 1) : (i = 1, []), initFunc = arguments[i++];\n            if (typeof initFunc !== \"function\") {\n                throw \"Missing an initialization function for module '\" + mName + \"'\";\n            }\n\n            // Create a namespace\n            module = app.createNS(\"modules.\" + mName);\n            module.__mName__ = mName;\n            module.initialized = false;\n\n            // Set dependencies\n            if (options.length && options[0].length) {\n                dependencies = [];\n                ref = options[0];\n                for (j = 0, len = ref.length; j < len; j++) {\n                    dep = ref[j];\n                    if (typeof dep === \"string\" && dependencies.indexOf(dep) < 0 && dep !== mName) {\n                        dependencies.push(dep);\n                    }\n                }\n                if (dependencies.length) {\n                    module.dependencies = dependencies;\n                }\n            }\n\n            // Set initialization function and behavior\n            module.init = function() {\n                var depModule, e, initTime, initializedModules, l, len1, t1, t2;\n                try {\n                    if (module.dependencies) {\n                        for (l = 0, len1 = dependencies.length; l < len1; l++) {\n                            dep = dependencies[l];\n                            depModule = app.modules[dep];\n                            if (!depModule) {\n                                DEBUG && console.log(\"%c[modules] missed module \" + dep + \" as a dependency for module \" + mName + \". (it's ok only if module is not required for this page)\", \"color: #BB6565; font-style: italic\");\n                                return false;\n                            }\n                            if (depModule.initialized) {\n                                continue;\n                            }\n                            depModule.init();\n                            if (!depModule.initialized) {\n                                DEBUG && console.log(\"%c[modules] can't init module \" + dep + \" as a dependency for module \" + mName + \". (it's ok only if module is not required for this page)\", \"color: #BB6565; font-style: italic\");\n                                return false;\n                            }\n                        }\n                    }\n                    t1 = app.utils.getTime();\n                    if (initFunc.call(module) !== false) {\n                        module.init = function() {\n                            throw \"[modules] module '\" + mName + \"' already initialized\";\n                        };\n                        t2 = app.utils.getTime();\n                        initTime = parseFloat((t2 - t1).toFixed(1));\n                        module.__initTime__ = initTime;\n                        DEBUG && console.log(\"[module \" + mName + \"] module initialized in \" + initTime + \" ms\");\n                        module.initialized = true;\n                        initializedModules = app.initializedModules || [];\n                        initializedModules.push(mName);\n                        app.initializedModules = initializedModules;\n                    }\n                } catch (error1) {\n                    e = error1;\n                    if (typeof Raven !== \"undefined\") {\n                        Raven.captureException(e);\n                    }\n                    app.errorHandler(e, {\n                        moduleName: mName\n                    });\n                }\n            };\n            return module;\n        },\n\n        errorHandler: function(error, options) {\n            var pre;\n            pre = \"[error]\";\n            if (options && options.moduleName) {\n                pre += \"[module \" + options.moduleName + \"]\";\n            }\n            if (console && console.error) {\n                console.error(pre + \"\\n\" + error + \"\\nNavigator: \" + window.navigator.userAgent);\n            }\n        }\n    };\n\n\n    var appInitFunc = function() {\n        var benchmarkCloseBtn, benchmarkDiv, criticalInitTime, dColor, fTime, initTimes, m, module, moduleName, t, time, warningModules;\n        if (DEBUG) {\n            t = app.utils.getTime();\n        }\n\n        // Initialize app modules\n        for (m in app.modules) {\n            module = app.modules[m];\n            if (!module.initialized && typeof module.init === \"function\") {\n                module.init();\n            }\n        }\n        if (DEBUG) {\n            fTime = Math.round(app.utils.getTime() - t);\n            dColor = fTime < 200 ? \"green\" : \"red\";\n            console.log(\"%c[common] document ready event fired, \" + app.initializedModules.length + \" modules initialized in \" + fTime + \" ms: \" + ((function() {\n                var i, len, ref, results;\n                ref = app.initializedModules;\n                results = [];\n                for (i = 0, len = ref.length; i < len; i++) {\n                    m = ref[i];\n                    results.push(\" \" + m + \"(\" + app.modules[m].__initTime__ + \"ms)\");\n                }\n                return results;\n            })()), \"color: \" + dColor);\n        }\n\n        // Add benchmark div\n        benchmarkDiv = document.getElementById(\"benchmark\");\n        if (typeof app.utils.getInitTimes === \"function\" && (DEBUG || window.location.hash === \"#benchmark\") && !benchmarkDiv) {\n            benchmarkDiv = document.createElement(\"div\");\n            benchmarkDiv.className = \"benchmark\";\n            benchmarkDiv.id = \"benchmark\";\n            if (typeof app.utils.getInitTimes === \"function\") {\n                benchmarkDiv.innerHTML = \"<small style=\\\"opacity: 0.7\\\">modules (ms):\" + ((function() {\n                    var ref, results;\n                    ref = app.utils.getInitTimes();\n                    results = [];\n                    for (m in ref) {\n                        t = ref[m];\n                        results.push(\" \" + m + \": \" + t);\n                    }\n                    return results;\n                })()) + \"</small>\";\n            }\n\n            // Add close button\n            benchmarkCloseBtn = document.createElement(\"a\");\n            benchmarkCloseBtn.onclick = function() {\n                benchmarkDiv.parentNode.removeChild(benchmarkDiv);\n            };\n            benchmarkCloseBtn.innerHTML = \"X\";\n            benchmarkCloseBtn.className = \"benchmark__close\";\n            benchmarkDiv.appendChild(benchmarkCloseBtn);\n            document.body.appendChild(benchmarkDiv);\n        }\n\n        // Check for \"too complex\" modules\n        // WARNING иногда такие \"ошибки\" возникают спонтанно\n        // (например, все модули инициализируются за 0-2 мс, а один \"выстрелил\" на 300 мс).\n        // Если это станет мешать проектам, то можно данные предупреждения\n        // из логгера убрать.\n        if (!DEBUG && typeof Raven !== \"undefined\") {\n            initTimes = app.utils.getInitTimes();\n            warningModules = [];\n            criticalInitTime = 50;\n            for (moduleName in initTimes) {\n                time = initTimes[moduleName];\n                if (moduleName === \"all\") {\n                    continue;\n                }\n                if (time > criticalInitTime) {\n                    warningModules.push(moduleName);\n                }\n            }\n\n            //  CHANGED: Вот именно из-за того, что один из модулей может\n            //  случайно инициализироваться за какое-то неадекватно большое для него время.\n            //  if warningModules.length > 0\n            if (warningModules.length > 1) {\n                Raven.captureMessage(\"[common] detected some \\\"long\\\" (initTime > \" + criticalInitTime + \" ms) modules\", {\n                    level: \"warning\", // one of 'info', 'warning', or 'error'\n                    extra: initTimes\n                });\n            }\n        }\n    };\n\n    // Document ready event\n    if (\"addEventListener\" in document) {\n        document.addEventListener(\"DOMContentLoaded\", appInitFunc, false);\n\n    // .. IE <= 8\n    } else if (\"attachEvent\" in document) {\n        document.attachEvent(\"onreadystatechange\", function() {\n            if (document.readyState === \"complete\") {\n                appInitFunc();\n            }\n        });\n    }\n})();","/**\n * Общая точка входа\n * для события полной загрузки страницы\n * (включая загрузку изображений, метрик и прочего).\n *\n * NOTE: Не путать с событием DOMContentLoaded\n * (оно же - $(document).ready(function() {...}) - в терминах jQuery).\n */\napp.createModule(\"pageLoad\", function() {\n\n    // Локальные переменные\n    var module = this;\n    var events = [];\n    var singleFunctionFired = false;\n    var timeoutInit = 120;\n    var timeoutDelta = 80;\n\n\n    /**\n     * Функция, которая сработает лишь один раз,\n     * и будет означать полную загрузку страницы.\n     */\n    var singleLoadFunction = function() {\n        var readyState = document.readyState;\n        var func, timeoutCurrent;\n        if ((readyState !== \"complete\" || singleFunctionFired) || !events.length) {\n            return false;\n        }\n\n        DEBUG && console.log(\"%c[module pageLoad] window load event fired, count of functions to init: \" + events.length + \", timeout for first func: \" + timeoutInit + \", timeout delta for other: \" + timeoutDelta, \"color: purple\");\n\n        while (events.length > 0) {\n            // Взять первый элемент массива,\n            // и передать его в переменную.\n            func = events.shift();\n\n            // Будем запускать наши отложенные функции\n            // через определённые промежутки времени, друг за другом с некоторым промежутком.\n            // Мы уже знаем, что это функции,\n            // поэтому доп. проверка не требуется.\n            timeoutCurrent = timeoutCurrent ? timeoutCurrent + timeoutDelta : timeoutInit;\n            setTimeout(func, timeoutCurrent);\n        }\n\n        singleFunctionFired = true;\n        window.removeEventListener(\"load\", singleLoadFunction);\n        window.removeEventListener(\"ready\", singleLoadFunction);\n    };\n\n\n    // Привязка собитий и функции-обработчика\n    if (document.readyState === \"complete\") {\n        singleLoadFunction();\n    } else {\n        window.addEventListener(\"load\", singleLoadFunction);\n        window.addEventListener(\"ready\", singleLoadFunction);\n    }\n\n\n    /**\n     * Добавление переданной функции в очередь на выполнение,\n     * либо немедленное исполнение функции, если страница уже полностью загружена.\n     *\n     * @param {function} func\n     */\n    var addEvent = function(func) {\n        if (typeof func !== \"function\") {\n            return;\n        }\n\n        // Если страница ещё не загружена полность, то добавляем в очередь\n        if (!singleFunctionFired) {\n            events.push(func);\n            DEBUG && console.log(\"[module pageLoad] function added, count of functions to init now: \" + events.length);\n\n        // Если уже загружена, то просто вызываем переданную функцию\n        } else {\n            DEBUG && console.log(\"[module pageLoad] firing function immediately, because window load event already fired\");\n            func();\n        }\n    };\n\n\n    // Доступ к фукциям\n    // текущего модуля\n    module.addEvent = addEvent;\n});","app.createModule(\"search\", function() {\n    var parent = document.querySelector(\".js-search\");\n    if (!parent) {\n        return false;\n    }\n\n    // Локальные переменные\n    var module = this;\n    var genresFilter = parent.querySelector(\".js-filter-genre\");\n    var nameFilter = parent.querySelector(\".js-filter-name\");\n    var currentFilterName = null;\n    var currentFilterGenre = null;\n    var allGenres = [];\n    var items = parent.querySelectorAll(\".js-item\");\n    var itemsCount = items.length;\n    var dAttrGenre = \"data-genre\";\n    var hiddenClass = \"g-hidden\";\n    var emptyMessageElem = parent.querySelector(\".js-empty-message\");\n    var arrProto = Array.prototype;\n\n\n    // Собираем все возможные значения жанров, чтобы проводить доп. проверки в функции setFilterGenre\n    arrProto.forEach.call(genresFilter.querySelectorAll(\"option\"), function(elem) {\n        var genre = elem.value;\n        if (genre !== \"\" && genre !== \"null\") {\n            allGenres.push(genre);\n        }\n    });\n\n    DEBUG && console.log(\"[module search] genres obtained: \", allGenres);\n\n\n    // Методы\n    // TODO: При необходимости, можно отрефакторить - две функции setFilterName и setFilterGenre похожи\n\n    var setFilterName = function(name, changeInputVal) {\n        changeInputVal = changeInputVal || true;\n        var res;\n\n        // Если передать функции \"левое\" значение, то сбрасываем поле поиска по названию\n        if (typeof name !== \"string\" || (typeof name === \"string\" && name.trim() === \"\")) {\n            res = null;\n\n        } else {\n            res = name;\n        }\n\n        currentFilterName = res;\n        // Нужно, чтобы избежать пересечения двух событий:\n        // пользователь сам ввёл данные, и когда отработала сама функция.\n        // Без этого, возможна ситуация, когда функция будет рекурсивно вызывать саму себя,\n        // при вводе данных пользователем на странице.\n        if (changeInputVal) {\n            nameFilter.value = res;\n        }\n\n        DEBUG && console.log(\"%c[module search] filter name set to: \" + res, \"color: #999\");\n        updateCollection();\n    };\n\n    var setFilterGenre = function(genre, changeInputVal) {\n        changeInputVal = changeInputVal || true;\n        var res;\n\n        // Если передать функции \"левый\" жанр, которого нет в изначальном наборе,\n        // то прерываем функцию. В противном случае, в поле селекта \"жанр\" установится\n        // пустое (не то, которое по дефолту) значение, и это не айс.\n        if (genre && !(typeof genre === \"string\" && (genre.trim() === \"null\" || genre.trim() === \"\")) && allGenres.indexOf(genre) < 0) {\n            return;\n        }\n\n        // Если передать пустую строку или null, то будет выбран пункт по-умолчанию.\n        if (typeof genre !== \"string\" || (typeof genre === \"string\" && (genre.trim() === \"null\" || genre.trim() === \"\"))) {\n            res = null;\n        } else {\n            res = genre;\n        }\n\n        currentFilterGenre = res;\n        // Нужно, чтобы избежать пересечения двух событий:\n        // пользователь сам ввёл данные, и когда отработала сама функция.\n        // Без этого, возможна ситуация, когда функция будет рекурсивно вызывать саму себя,\n        // при вводе данных пользователем на странице.\n        if (changeInputVal) {\n            genresFilter.value = res;\n        }\n\n        DEBUG && console.log(\"%c[module search] filter genre set to: \" + res, \"color: #999\");\n        updateCollection();\n    };\n\n    var updateCollection = function() {\n        var shownItemsCount = 0;\n\n        // Проходимся по всем экземплярам из коллекции.\n        arrProto.forEach.call(items, function(elem) {\n            var elemName = elem.querySelector(\".js-name\").textContent;\n            var elemGenres = elem.getAttribute(dAttrGenre).split(\",\");\n\n            // Определяем, задана ли фильтрация по названию, и, если да,\n            // содержится ли строка в названии экземпляра коллекции.\n            var testFilterName = true;\n            if (currentFilterName !== null && typeof currentFilterName === \"string\") {\n                testFilterName = new RegExp(currentFilterName, \"gi\").test(elemName);\n            }\n\n            // Определяем, задана ли фильтрация по жанру, и, если да,\n            // соответствует ли жанр экземпляра коллекции тому, по которому идёт фильтрация.\n            var testFilterGenre = true;\n            if (currentFilterGenre !== null && typeof currentFilterGenre === \"string\") {\n                testFilterGenre = elemGenres.indexOf(currentFilterGenre) >= 0;\n            }\n\n            // Если обе проверки дают положительный результат,\n            // то отображаем данный элемент. В противном случае, скрываем его.\n            if (testFilterName && testFilterGenre) {\n                elem.classList.remove(hiddenClass);\n                shownItemsCount++;\n            } else {\n                elem.classList.add(hiddenClass);\n            }\n        });\n\n        // Если ни один экземпляр не проходит фильтрацию, то показываем\n        // сообщение \"не найдено\".\n        if (shownItemsCount === 0) {\n            showEmptyMessage();\n        } else {\n            hideEmptyMessage();\n        }\n\n        DEBUG && console.log(\"[module search] currentFilterName: \" + currentFilterName + \"; currentFilterGenre: \" + currentFilterGenre + \". \" + shownItemsCount + \" of \" + itemsCount + \" items shown\");\n    };\n\n    var showEmptyMessage = function() {\n        emptyMessageElem.classList.remove(hiddenClass);\n    };\n\n    var hideEmptyMessage = function() {\n        emptyMessageElem.classList.add(hiddenClass);\n    };\n\n    var filterNameController = function() {\n        var text = this.value;\n        setFilterName(text, false);\n    };\n\n    var filterGenreController = function() {\n        var genre = this.value;\n        setFilterGenre(genre, false);\n    };\n\n\n    // Бинды\n    nameFilter.addEventListener(\"input\", app.utils.debouncer(filterNameController, 200));\n    genresFilter.addEventListener(\"change\", filterGenreController);\n\n\n    // Экспорт\n    module.setFilterName = setFilterName;\n    module.setFilterGenre = setFilterGenre;\n});","app.createModule(\"slider\", function() {\n    var parent = document.querySelector(\".js-slider\");\n    if (!parent) {\n        return false;\n    }\n\n    // Локальные переменные\n    var module = this;\n    var dAttrSlide = \"data-slide\";\n    var btns = parent.querySelectorAll(\".js-btn\");\n    var slides = parent.querySelectorAll(\".js-slide\");\n    var curClass = \"is-current\";\n    var nextClass = \"is-next\";\n    var prevClass = \"is-prev\";\n    var currentSlideNum = 0;\n    var slidesCount = slides.length;\n    var arrProto = Array.prototype;\n\n\n    // Методы\n\n    var showSlide = function(slideNum, direction) {\n        // По-умолчанию, функция может показать произвольный слайд.\n        // Но, если есть всего лишь две кнопки, то можно передать \"next\" или \"prev\",\n        // тогда будет автоматически определён текущий и следующий слайды.\n        if (slideNum === \"next\" || slideNum === \"prev\" && arguments.length === 1) {\n            direction = slideNum;\n            if (direction === \"next\") {\n                slideNum = currentSlideNum + 1;\n                if (slideNum >= slidesCount) {\n                    slideNum = 0;\n                }\n            } else if (direction === \"prev\") {\n                slideNum = currentSlideNum - 1;\n                if (slideNum < 0) {\n                    slideNum = slidesCount - 1;\n                }\n            }\n\n        } else {\n            slideNum = parseInt(slideNum);\n            if (isNaN(slideNum) || slideNum >= slidesCount || slideNum < 0 || slideNum === currentSlideNum) {\n                return;\n            }\n        }\n\n        // Если дошли до последнего слайда, то переходим к первому.\n        var slideNumNext = slideNum + 1;\n        if (slideNumNext >= slidesCount) {\n            slideNumNext = 0;\n        }\n\n        // Если дошли до первого слайда, то переходим к последнему.\n        var slideNumPrev = slideNum - 1;\n        if (slideNumPrev < 0) {\n            slideNumPrev = slidesCount - 1;\n        }\n\n        // Направление по-умолчанию.\n        direction = direction || \"next\";\n        DEBUG && console.log(\"[module slider] slideNumPrev: \" + slideNumPrev + \"; slideNum: \" + slideNum + \"; slideNumNext: \" + slideNumNext + \"; direction: \" + direction);\n\n        // Устанавливаем значение текущего слайда.\n        currentSlideNum = slideNum;\n\n        // В зависимости от направления перелистывания,\n        // проставляется тот или иной класс\n        // (соотв. анимациям прилёта слева либо справа).\n        var cls = direction === \"next\" ? nextClass : prevClass;\n        slides[slideNum].classList.add(cls);\n\n        // Анимация задаётся в css, поэтому нужно некоторое время,\n        // прежде чем задать слайду состояние current.\n        // NOTE: Данное место - небольшая лазейка, где может сломаться приложение.\n        // Для настоящего проекта, стоит лучше обрабатывать таймаут.\n        var stop = function() {\n            arrProto.forEach.call(slides, function(elem) {\n                elem.classList.remove(curClass);\n            });\n            slides[slideNum].classList.remove(cls);\n            slides[slideNum].classList.add(curClass);\n        };\n\n        // NOTE: В настоящем приложении можно было бы динамически определять\n        // величину задержки (длительность css-анимации). Хотя, сама по себе,\n        // это - дорогостоящая операция.\n        var delay = 500;\n        setTimeout(stop, delay);\n    };\n\n    var btnClick = function() {\n        var direction = this.getAttribute(dAttrSlide);\n        showSlide(direction);\n    };\n\n\n    // Бинды\n    arrProto.forEach.call(btns, function(elem) {\n        elem.addEventListener(\"click\", btnClick);\n    });\n\n    // Проставляем активность первому слайду, чтобы слайдер\n    // корректно отработал первые перелистывания.\n    slides[currentSlideNum].classList.add(curClass);\n\n    // Экспорт\n    module.showSlide = showSlide;\n});","app.createModule(\"tabs\", function() {\n    var parent = document.querySelector(\".js-tabs\");\n    if (!parent) {\n        return false;\n    }\n\n    // Локальные переменные\n    var module = this;\n    var dAttrTabNumber = \"data-tab\";\n    var btns = parent.querySelectorAll(\".js-btn\");\n    var contentElems = parent.querySelectorAll(\".js-content\");\n    var hiddenClass = \"g-hidden\";\n    var tabNumbersArray = [];\n    var activeClass = \"is-active\";\n    var preparingClass = \"is-preparing\";\n    var arrProto = Array.prototype;\n\n    // Проверка, совпадает ли количество табов и кнопок-переключателей.\n    if (contentElems.length !== btns.length) {\n        DEBUG && console.log(\"%c[module tabs] btns count != content conut. check your markup!\", \"color: red\");\n        return false;\n    }\n\n    arrProto.forEach.call(btns, function(elem) {\n        tabNumbersArray.push(parseInt(elem.getAttribute(dAttrTabNumber)));\n    });\n\n    // Проверка, для всех ли табов есть подходящая кнопка, которая его раскроет.\n    var k = 0;\n    arrProto.forEach.call(contentElems, function(elem) {\n        var tabNumber = parseInt(elem.getAttribute(dAttrTabNumber));\n        if (tabNumbersArray.indexOf(tabNumber) < 0) {\n            k++;\n        }\n    });\n\n    if (k > 0) {\n        DEBUG && console.log(\"%c[module tabs] wrong data-attributes. check your markup!\", \"color: red\");\n        return false;\n    }\n\n\n    // Методы\n\n    var hideAllTabs = function() {\n        arrProto.forEach.call(contentElems, function(elem) {\n            elem.classList.add(hiddenClass);\n        });\n\n        arrProto.forEach.call(btns, function(elem) {\n            elem.classList.remove(activeClass);\n        });\n    };\n\n    var showTab = function(tabNumber) {\n        tabNumber = parseInt(tabNumber);\n        if (isNaN(tabNumber) || tabNumbersArray.indexOf(tabNumber) < 0) {\n            return;\n        }\n\n        var contentToShow = arrProto.filter.call(contentElems, function(elem) {\n            return parseInt(elem.getAttribute(dAttrTabNumber)) === tabNumber;\n        })[0];\n\n        var activeBtn = arrProto.filter.call(btns, function(elem) {\n            return parseInt(elem.getAttribute(dAttrTabNumber)) === tabNumber;\n        })[0];\n\n        // Скрываем все табы, затем показываем один необходимый.\n        hideAllTabs();\n        contentToShow.classList.remove(hiddenClass);\n        activeBtn.classList.add(activeClass);\n    };\n\n    var btnClick = function() {\n        var tabNumber = this.getAttribute(dAttrTabNumber);\n        showTab(tabNumber);\n    };\n\n\n    // Бинды\n    arrProto.forEach.call(btns, function(elem) {\n        elem.addEventListener(\"click\", btnClick);\n    });\n\n\n    // Для того, чтобы корректно проставились все классы,\n    // \"открываем\" первый таб.\n    parent.classList.remove(preparingClass);\n    showTab(tabNumbersArray[0]);\n\n\n    // Экспорт\n    module.showTab = showTab;\n});","/**\n * Общая точка входа\n * для события изменения размеров экрана.\n *\n * NOTE: Событие на практике происходит редко\n * (например, поворот планшета или телефона, или равзернуть окно на полный экран на десктопе),\n * поэтому мы будем \"выполнять\" его с помощью debouncer\n * (отложенное выполнение).\n */\napp.createModule(\"windowResize\", function() {\n\n    // Локальные переменные\n    var module = this;\n    var events = [];\n\n\n    /**\n     * Основной обработчик,\n     * который проходит по всем функциям из массива events\n     * и выполняет их.\n     *\n     * Вызываем обработчик через debouncer (задержка по выполнению),\n     * чтобы функции из массива не вызывались слишком часто.\n     */\n    var resizeController = app.utils.debouncer(function() {\n        if (!events.length) {\n            return;\n        }\n\n        var f, i, len;\n        for (i = 0, len = events.length; i < len; i++) {\n            f = events[i];\n            f();\n        }\n    });\n\n\n    /**\n     * Добавление переданной функции в массив всех функций,\n     * которые будут вызваны при срабатывании события \"resize\" окна браузера.\n     *\n     * @param {function} func\n     */\n    var addEvent = function(func) {\n        if (typeof func !== \"function\") {\n            return;\n        }\n\n        events.push(func);\n        DEBUG && console.log(\"[module windowResize] function added, count of functions to init now: \" + events.length);\n    };\n\n\n    // Привязка события и обработчика\n    window.addEventListener(\"resize\", resizeController);\n\n\n    // Доступ к фукциям\n    // текущего модуля\n    module.addEvent = addEvent;\n});","/**\n * Общая точка входа\n * для события скролла страницы.\n *\n * NOTE: Контроллер будет передавать текущее значение скролла\n * каждой из переданных в данный модуль функций.\n */\napp.createModule(\"windowScroll\", function() {\n\n    // Локальные переменные\n    var module = this;\n    var events = [];\n    var enabled = false;\n\n\n    /**\n     * Основной обработчик,\n     * который проходит по всем функциям из массива events\n     * и выполняет их.\n     */\n    var scrollController = function() {\n        if (!enabled) {\n            return;\n        }\n\n        var y = document.body.scrollTop || document.documentElement.scrollTop;\n        var f, i, len;\n        for (i = 0, len = events.length; i < len; i++) {\n            f = events[i];\n            f.call(this, y);\n        }\n    };\n\n\n    /**\n     * Привязка события и контроллера.\n     * Вынесено в отдельную функцию, так как если модулю не передана ни одна функция на событие \"scroll\"\n     * то и общий обработчик вешать нет смысла.\n     * Сделано для оптимизации производительности (небольшая прибавка).\n     */\n    var bind = function() {\n        window.addEventListener(\"scroll\", scrollController);\n    };\n\n\n    /**\n     * Добавление переданной функции в массив всех функций,\n     * которые будут вызваны при срабатывании события \"scroll\".\n     *\n     * @param {function} func\n     */\n    var addEvent = function(func) {\n        if (typeof func !== \"function\") {\n            return;\n        }\n\n        if (!enabled) {\n            enabled = true;\n            bind();\n        }\n\n        events.push(func);\n        DEBUG && console.log(\"[module windowScroll] function added, count of functions to init now: \" + events.length);\n    };\n\n\n    // Доступ к фукциям\n    // текущего модуля\n    module.addEvent = addEvent;\n});"]}